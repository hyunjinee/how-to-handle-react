cra의 기본 웹팩 설정에는 splitchunks 라는 기능이 적용되어 node_modules 에서 불러온 파일, 일정크기 이상의 파일 여러파일에 공유된 파일을 자동으로 따로 분리시켜서 캐싱의 효과를 제대로 누릴 수 있게 해준다.


build를 하면 해시 값이 포함되어 있는데, 이 값은 빌드하는 과정에서 해당 파일의 내용에 따라 생성되며, 이를 통해 브라우저가 새로 파일을 받아야 할지 받지 말아야 할지 알 수 있다.

코드 비동기 로딩 


코드 스플리팅을 위해 리액트에 내장된 기능으로 유틸 함수인 React.lazy와 컴포넌트인 Suspense가 있다. 이 기능은 리액트 16.6버전부터 도입되었다. 이전 버전에서는 import 함수를 통해 불러온 다음, 컴포넌트 자체를 state에 넣는 방식으로 구현해야한다.

state를 사용한 코드 스플리팅 React.lazy없이 컴포넌트 코드를 스플리팅한다면 어떻게 해야할까.


```ts
const SplitMe = React.lazy(() => import('./SplitMe'));
```

```ts

import React, {Suspense} from react;

<Suspense fallback={<div>loading...</div>}><SplitMe/> </Suspense>

```

suspense 는 리액트 내장 컴포넌트로서 코드 스플리팅된 컴포넌트를 로딩하도록 발동시킬 수 있고, 로딩이 끝나지 않았을 때 보여줄 UI를 설정할 수 있다.
로딩중에 보여줄 jsx는 fallback props를 통해 로딩중에 보여줄JSX를 지정가능 





서버 사이드 렌더링이란 웹서비스의 초기 로딩속도 개선, 캐싱및 검색 엔진 최적화를 가능하게 해주는 기술이다. 서버사이드 렌더링을 사용하면 웹서비스의 초기 렌더링을 사용자의 브라우저가아닌 서버 쪽에서 처리한다. 사용자는 서버에서 렌더링한 html결과물을 받아와서 그대로 사용하기 때문에 초기 로딩 속도도 개선되고, 검색엔진에서 크롤링 할 때도 문제없다. 

loadable Components 는 미리 불러오는 기능 외에도 타임아웃, 로딩 UI딜레이 서버사이드 렌더링 호환등 다양한 기능을 제공한다.